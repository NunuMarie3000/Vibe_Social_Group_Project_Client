{"ast":null,"code":"var _jsxFileName = \"/home/nunumarie3000/projects/courses/Code301/Vibe_Social_Group_Project_Client/client/src/components/BetweenAppAndEverything.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport axios from \"axios\";\nimport Everything from \"./Everything\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function BetweenAppAndEverything(_ref) {\n  _s();\n\n  let {\n    logout,\n    user\n  } = _ref;\n  const [allMemories, setAllMemories] = useState('');\n  const [userId, setUserId] = useState('');\n  const [allUsers, setAllUsers] = useState(''); //for profile component\n\n  const getMemories = async () => {\n    const userAPI = `${process.env.REACT_APP_APIURL}/memories`;\n\n    try {\n      let res = await axios.get(userAPI);\n      setAllMemories(res.data);\n      getEmailsOfOtherUsers();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getEmailsOfOtherUsers = async () => {\n    const userAPI = `https://memories-socialmedia-group.herokuapp.com/users`;\n\n    try {\n      await axios.get(userAPI).then(res => setAllUsers(res.data));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getIdFromDb = async () => {\n    const email = user.email;\n    const url = `https://memories-socialmedia-group.herokuapp.com/useremail/${email}`;\n\n    try {\n      const response = await axios.get(url);\n\n      if (response.data.user === null || response.data.user === '' || response.data.user === undefined) {\n        createNewUsersId();\n      } else {\n        setUserId(response.data.user._id);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n\n    getMemories();\n  };\n\n  const createNewUsersId = async () => {\n    const url = `https://memories-socialmedia-group.herokuapp.com/newuser`;\n    const body = {\n      email: user.email\n    };\n\n    try {\n      const response = await axios.post(url, body);\n      setUserId(response.data._id);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getIdFromDb(); //eslint-disable-next-line\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainLogo\",\n        children: \"VIBE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), allMemories !== '' && userId !== '' && allUsers !== '' && /*#__PURE__*/_jsxDEV(Header, {\n        getMemories: getMemories,\n        allUsers: allUsers,\n        user: user,\n        logout: logout,\n        allMemories: allMemories,\n        userId: userId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 68\n      }, this), allMemories !== '' && userId !== '' && allUsers !== '' && /*#__PURE__*/_jsxDEV(Everything, {\n        allUsers: allUsers,\n        user: user,\n        userInfoFromAuth: user,\n        allMemories: allMemories,\n        getMemories: getMemories,\n        userId: userId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 68\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(BetweenAppAndEverything, \"fBYlAxa61EU1AFOJVgn53IO69gQ=\");\n\n_c = BetweenAppAndEverything;\n\nvar _c;\n\n$RefreshReg$(_c, \"BetweenAppAndEverything\");","map":{"version":3,"names":["React","useState","useEffect","Header","axios","Everything","BetweenAppAndEverything","logout","user","allMemories","setAllMemories","userId","setUserId","allUsers","setAllUsers","getMemories","userAPI","process","env","REACT_APP_APIURL","res","get","data","getEmailsOfOtherUsers","error","console","log","then","getIdFromDb","email","url","response","undefined","createNewUsersId","_id","body","post"],"sources":["/home/nunumarie3000/projects/courses/Code301/Vibe_Social_Group_Project_Client/client/src/components/BetweenAppAndEverything.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport axios from \"axios\";\nimport Everything from \"./Everything\"\n\nexport default function BetweenAppAndEverything({ logout, user }) {\n\n  const [allMemories, setAllMemories] = useState('')\n  const [userId, setUserId] = useState('')\n  const [allUsers, setAllUsers] = useState('')\n  //for profile component\n\n  const getMemories = async () => {\n    const userAPI = `${process.env.REACT_APP_APIURL}/memories`;\n    try {\n      let res = await axios.get(userAPI);\n      setAllMemories(res.data)\n      getEmailsOfOtherUsers()\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const getEmailsOfOtherUsers = async () => {\n    const userAPI = `https://memories-socialmedia-group.herokuapp.com/users`\n    try {\n      await axios.get(userAPI).then(res => setAllUsers(res.data))\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const getIdFromDb = async () => {\n    const email = user.email\n    const url = `https://memories-socialmedia-group.herokuapp.com/useremail/${email}`\n    try {\n      const response = await axios.get(url)\n      if (response.data.user === null || response.data.user === '' || response.data.user === undefined) {\n        createNewUsersId()\n      } else {\n        setUserId(response.data.user._id)\n      }\n    } catch (error) {\n      console.log(error)\n    }\n    getMemories()\n  }\n\n  const createNewUsersId = async () => {\n    const url = `https://memories-socialmedia-group.herokuapp.com/newuser`\n    const body = {\n      email: user.email\n    }\n    try {\n      const response = await axios.post(url, body)\n      setUserId(response.data._id)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  useEffect(() => {\n    getIdFromDb()\n    //eslint-disable-next-line\n  }, [])\n\n  return (\n    <>\n      <div>\n        <div className = \"mainLogo\">VIBE</div>\n        {allMemories !== '' && userId !== '' && allUsers !== '' && <Header getMemories={getMemories} allUsers={allUsers} user={user} logout={logout} allMemories={allMemories} userId={userId} />}\n        {allMemories !== '' && userId !== '' && allUsers !== '' && <Everything allUsers={allUsers} user={user} userInfoFromAuth={user} allMemories={allMemories} getMemories={getMemories} userId={userId} />}\n      </div>\n\n\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}